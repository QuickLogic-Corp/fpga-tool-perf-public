<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>FPGA tool perf results: index</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.0/dist/chart.min.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  </head>
  <body>
    <div id="header" class="w3-container w3-left w3-padding">
      <h1>FPGA Tool Perf results</h1>
    </div>

    <div class="w3-row">
      <div class="w3-col m3 l2 w3-padding">
        <div id="overview" class="w3-container w3-center">
          <p>Click on a project to jump to the graph visualization.</p>
        </div>

        <div class="w3-dropdown-hover w3-center" style="width: 100%">
          <button class="w3-button w3-border" style="width: 100%">Projects</button>
          <div class="w3-dropdown-content w3-bar-block w3-border" style="width: 100%">
          {% for project in projects %}
            <a href="graphs/{{ project }}.html" class="w3-bar-item w3-button w3-center"><b>{{ project }}</b></a>
          {% endfor %}
          </div>
        </div>
        </br>
        </br>

        <div id="overview" class="w3-container w3-center">
          <p>Click on a device to select it.</p>
        </div>

        <div class="w3-dropdown-hover w3-center" style="width: 100%">
          <button class="w3-button w3-border" style="width: 100%">Devices</button>
          <div class="w3-dropdown-content w3-bar-block w3-border" style="width: 100%">
          {% for device in devices_list %}
            <div id="{{device}}">
              <button id="{{device}}-button" class="w3-button w3-block w3-center" onclick="selectTable('{{device}}', 'status')">
                <b>{{ device }}</b>
              </button>
            </div>
          {% endfor %}
          </div>
        </div>
      </div>

      <div class="w3-col m8 l9 w3-padding">
        <div id="overview" class="w3-container w3-center">
          <p>To check the latest statistics, click on a project name.</p>
        </div>
        <div>
          {% for device in devices %}
            <div id="{{ device }}-status" class="device-table w3-container w3-hide w3-content" style="max-width: 90%">
              <h3 class="w3-center">{{ device }}</h3>
              {% include 'table.html' %}
            </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </body>

<script charset="utf-8">

var visible_elem = null;

// sets visibility of an element with the w3-hide class by appending/removing w3-show class
function setVisibility(elem, on) {
  if (on) {
    if (elem.className.indexOf("w3-show") == -1) {
      elem.className += " w3-show";
    }
  } else {
    elem.className = elem.className.replace(" w3-show", "");
  }
}

function toggleVisibility(id) {
  var elem = document.getElementById(id);
  setVisibility(elem, elem.className.indexOf("w3-show") == -1);
}

function selectTable(device_name, elem_type) {
  var elem_id = device_name + "-" + elem_type;

  var elem = document.getElementById(elem_id);
  setVisibility(elem, true);

  if (visible_elem != null && visible_elem != elem) {
    setVisibility(visible_elem, false);
  }

  visible_elem = elem;
}

// select first table on start
selectTable("{{ devices_list[0] }}", 'status');

</script>
</html>
